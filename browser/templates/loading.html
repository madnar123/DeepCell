{% extends "base.html" %}

{%- block content -%}

<main class="container">
  <div class="row">
    <div class="col s12 center-align">
      <p>Loading file from S3 bucket:</p>
      <p>{{ filename }}</p>
      {% include "partials/loading-bar.html" %}
    </div>
</main>
{%- endblock -%}

{%- block extraJs -%}
{%- if settings['filetype'] == "zstack" -%}
  <script type="text/javascript" src="{{ url_for('static', filename='js/main_zstack.js') }}"></script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/actions.js') }}"></script>
{%- elif settings['filetype'] == "track" -%}
  <script type="text/javascript" src="{{ url_for('static', filename='js/main_track.js') }}"></script>
{%- endif -%}

<!-- START DeepCell Label FUNCTION CALL -->
<script>
  var settings = {{settings | tojson}};
  document.getElementById("loading-bar").classList.add("active");
  loadS3File(settings);

</script>
<!-- END DeepCell Label FUNCTION CALL -->
{%- endblock -%}
